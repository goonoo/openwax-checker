<!DOCTYPE html>
<html>
<head>
  <title>ì›¹ì ‘ê·¼ì„± ê²€ì‚¬ê¸°</title>
  <style>
    body { font-family: sans-serif; margin: 0; }
    .container {
      display: flex;
      min-height: 100vh;
      padding-top: 50px; /* ê²€ìƒ‰ì°½ ë†’ì´ + íŒ¨ë”© */
    }
    .sidebar {
      width: 300px;
      background: #2d2d2d;
      padding: 0;
      position: fixed;
      height: 100vh;
      overflow-y: auto;
      color: white;
    }
    .main-content {
      margin-left: 300px;
      padding: 20px;
      flex: 1;
      box-sizing: border-box;
    }
    .sticky-header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      padding: 10px 0;
    }
    .result-table { width: 100%; border-collapse: collapse; }
    .result-table th, .result-table td { border: 1px solid #ccc; padding: 8px; }
    /* ëª¨ë“  í…Œì´ë¸”ì˜ ì²« ë²ˆì§¸ ì—´ (td ë˜ëŠ” th) */
    .result-table th:first-child,
    .result-table td:first-child {
      width: 50px;
    }

    /* ëª¨ë“  í…Œì´ë¸”ì˜ ë‘ ë²ˆì§¸ ì—´ (td ë˜ëŠ” th) */
    .result-table th:nth-child(2),
    .result-table td:nth-child(2) {
      width: 50px;
    }
    .result-table img { max-width: 80px; max-height: 80px; }
    .fail { background: #ffe5e5; } /* ì—°í•œ ë¹¨ê°„ìƒ‰ */
    .warning { background: #fffbe5; } /* ì—°í•œ ë…¸ë€ìƒ‰ */
    .sidebar-header {
      padding: 8px 7px;
      border-bottom: 1px solid #555;
    }
    .sidebar-header h1 {
      margin: 0;
      font-size: 14px;
      font-weight: 500;
      color: white;
    }
    .sidebar-url {
      font-size: 11px;
      padding: 8px 7px;
      background: #fff;
      color: #666;
      word-break: break-all;
    }
    .nav-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #2d2d2d;
      margin-bottom: 1px;
      border-bottom: 1px solid #444;
      padding: 7px 10px;
      background: #2d2d2d;
      font-size: 13px;
      cursor: pointer;
      color: #ffffff;
      text-decoration: none;
    }
    .nav-item:nth-child(even) {
      background: #2d2d2d;
    }
    .nav-item:hover {
      background: #505050;
    }
    .nav-item.invalid {
      color: white;
      background: rgb(221,30,30);
    }
    .nav-item.invalid:nth-child(even) {
      background: rgb(221,30,30);
    }
    .nav-item.active {
      border-left: 5px solid #007bff;
    }
    .nav-item-text {
      flex: 1;
      text-align: left;
    }
    .nav-item-score {
      text-align: right;
      font-weight: bold;
    }
    .section {
      scroll-margin-top: 80px; /* ê²€ìƒ‰ì°½ ë†’ì´ + ì—¬ë°± */
    }
    .search-container {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: #fff;
      height: 30px;
      padding: 10px 15px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      z-index: 1000;
    }
    .search-container form {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      gap: 10px;
    }
    .search-container input {
      flex: 1;
      padding: 6px 12px;
      border: 1px solid #bbb;
      border-radius: 4px;
    }
    .search-container button {
      padding: 6px 20px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .search-container button:hover {
      background: #0056b3;
    }
    .report-button {
      padding: 6px 20px;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-left: 10px;
    }
    .report-button:hover {
      background: #218838;
    }
  </style>
</head>
<body>
  <div class="search-container">
    <form class="search" method="GET" action="/analyze">
      <input type="text" name="url" placeholder="ë¶„ì„í•  URLì„ ì…ë ¥í•˜ì„¸ìš”" required value="<%= url %>" />
      <button type="submit">ë¶„ì„</button>
      <% if (typeof url !== 'undefined' && url) { %>
        <button type="button" class="report-button" onclick="generateReport()">ë³´ê³ ì„œ ì¶œë ¥</button>
      <% } %>
    </form>
    
    <% if (typeof debugHtml !== 'undefined' && debugHtml) { %>
    <div style="margin-top: 15px; padding: 15px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
      <h3 style="margin: 0 0 10px 0; color: #495057;">ğŸ” Puppeteer ë Œë”ë§ëœ HTML (Debug ëª¨ë“œ)</h3>
      <pre style="background: #fff; padding: 15px; border: 1px solid #ced4da; border-radius: 4px; overflow-x: auto; max-height: 400px; overflow-y: auto; font-size: 12px; line-height: 1.4; white-space: pre-wrap; word-wrap: break-word;"><%= debugHtml %></pre>
    </div>
    <% } %>
  </div>
  <div class="container">
    <% if (typeof url !== 'undefined' && url) { %>
      <div class="sidebar">
        <div class="sidebar-header">
          <h1>target pages</h1>
        </div>
        <div class="sidebar-url">
          <%= url %>
        </div>
        
        <nav>
          <% if (images && images.length > 0) { %>
            <% 
              const validImages = images.filter(img => img.alt !== null);
              const imagePercentage = images.length > 0 ? Math.round((validImages.length / images.length) * 100) : null;
              const hasInvalidImages = validImages.length < images.length;
            %>
            <a href="#section-images" class="nav-item<%= hasInvalidImages ? ' invalid' : '' %>">
              <span class="nav-item-text">5.1.1 ì ì ˆí•œ ëŒ€ì²´ í…ìŠ¤íŠ¸ ì œê³µ (img)</span>
              <span class="nav-item-score"><%= validImages.length %> / <%= images.length %><%= imagePercentage !== null ? ` (${imagePercentage}%)` : '' %></span>
            </a>
          <% } else { %>
            <a href="#section-images" class="nav-item">
              <span class="nav-item-text">5.1.1 ì ì ˆí•œ ëŒ€ì²´ í…ìŠ¤íŠ¸ ì œê³µ (img)</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>
          
          <% if (bgImages && bgImages.length > 0) { %>
            <% 
              const hasInvalidBgImages = bgImages.some(bg => !bg.alt || bg.alt === '');
            %>
            <a href="#section-bg-images" class="nav-item">
              <span class="nav-item-text">5.1.1 ì ì ˆí•œ ëŒ€ì²´ í…ìŠ¤íŠ¸ ì œê³µ (bg)</span>
              <span class="nav-item-score"><%= bgImages.length %></span>
            </a>
          <% } else { %>
            <a href="#section-bg-images" class="nav-item">
              <span class="nav-item-text">5.1.1 ì ì ˆí•œ ëŒ€ì²´ í…ìŠ¤íŠ¸ ì œê³µ (bg)</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>

          <!--
          5.2.1 ìë§‰ ì œê³µ
           * í˜ì´ì§€ ë‚´ì˜ video/audio ìš”ì†Œì— ìë§‰ì´ ì œê³µë˜ëŠ”ì§€ í™•ì¸
           * ìë§‰ ì œê³µ ì—¬ë¶€ì— ë”°ë¼ íŒë‹¨
          -->

          <% if (tables && tables.length > 0) { %>
            <% 
              const validTables = tables.filter(t => t.valid === 'pass');
              const hasInvalidTables = validTables.length < tables.length;
            %>
            <a href="#section-tables" class="nav-item<%= hasInvalidTables ? ' invalid' : '' %>">
              <span class="nav-item-text">5.3.1 í‘œì˜ êµ¬ì„±</span>
              <span class="nav-item-score"><%= validTables.length %> / <%= tables.length %> (<%= tables.length > 0 ? Math.round((validTables.length / tables.length) * 100) : 0 %>%)</span>
            </a>
          <% } else { %>
            <a href="#section-tables" class="nav-item">
              <span class="nav-item-text">5.3.1 í‘œì˜ êµ¬ì„±</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>

          <!--
          5.3.2 ì½˜í…ì¸ ì˜ ì„ í˜•êµ¬ì¡°
          -->

          <!--
          5.3.3 ëª…í™•í•œ ì§€ì‹œì‚¬í•­ ì œê³µ
          -->

          <!--
          5.4.1 ìƒ‰ì— ë¬´ê´€í•œ ì½˜í…ì¸  ì¸ì‹
          -->

          <!--
          5.4.2 ìë™ ì¬ìƒ ê¸ˆì§€
          -->

          <!--
          5.4.3 í…ìŠ¤íŠ¸ ì½˜í…ì¸ ì˜ ëª…ë„ ëŒ€ë¹„
          -->

          <!--
          5.4.4 ì½˜í…ì¸  ê°„ì˜ êµ¬ë¶„
          -->

          <!--
          6.1.1 í‚¤ë³´ë“œ ì‚¬ìš© ë³´ì¥
          -->

          <% if (focus && focus.length > 0) { %>
            <a href="#section-focus" class="nav-item invalid">
              <span class="nav-item-text">6.1.2 ì´ˆì  ì´ë™ê³¼ í‘œì‹œ</span>
              <span class="nav-item-score"><%= focus.length %> Error(s)</span>
            </a>
          <% } else { %>
            <a href="#section-focus" class="nav-item">
              <span class="nav-item-text">6.1.2 ì´ˆì  ì´ë™ê³¼ í‘œì‹œ</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>

          <!--
          6.1.3 ì¡°ì‘ ê°€ëŠ¥
          -->

          <!--
          6.1.4 ë¬¸ì ë‹¨ì¶•í‚¤
          -->

          <!--
          6.2.1 ì‘ë‹µì‹œê°„ ì¡°ì ˆ
          -->

          <!--
          6.2.2 ì •ì§€ ê¸°ëŠ¥ ì œê³µ
          -->

          <!--
          6.3.1 ê¹œë¹¡ì„ê³¼ ë²ˆì©ì„ ì‚¬ìš© ì œí•œ
          -->
          
          <% if (skipNavigations && skipNavigations.length > 0) { %>
            <% 
              const connectedSkipNavs = skipNavigations.filter(skip => skip.connected);
              const skipNavPercentage = skipNavigations.length > 0 ? Math.round((connectedSkipNavs.length / skipNavigations.length) * 100) : null;
              const hasInvalidSkipNavs = connectedSkipNavs.length < skipNavigations.length;
            %>
            <a href="#section-skip-nav" class="nav-item<%= hasInvalidSkipNavs ? ' invalid' : '' %>">
              <span class="nav-item-text">6.4.1 ë°˜ë³µ ì˜ì—­ ê±´ë„ˆë›°ê¸°</span>
              <span class="nav-item-score"><%= connectedSkipNavs.length %> / <%= skipNavigations.length %><%= skipNavPercentage !== null ? ` (${skipNavPercentage}%)` : '' %></span>
            </a>
          <% } else { %>
            <a href="#section-skip-nav" class="nav-item">
              <span class="nav-item-text">6.4.1 ë°˜ë³µ ì˜ì—­ ê±´ë„ˆë›°ê¸°</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>
          
          <% if (pageTitle && typeof pageTitle.valid !== 'undefined') { %>
            <a href="#section-page-title" class="nav-item<%= pageTitle.valid !== 'pass' ? ' invalid' : '' %>">
              <span class="nav-item-text">6.4.2 ì œëª© ì œê³µ - í˜ì´ì§€</span>
              <span class="nav-item-score"><%= pageTitle.valid === 'pass' ? '1' : '0' %> / 1 <%= pageTitle.valid === 'pass' ? '(100%)' : '(0%)' %></span>
            </a>
          <% } else { %>
            <a href="#section-page-title" class="nav-item">
              <span class="nav-item-text">6.4.2 ì œëª© ì œê³µ - í˜ì´ì§€</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>
          
          <% if (frames && frames.length > 0) { %>
            <% 
              const validFrames = frames.filter(frame => frame.valid === 'pass');
              const framePercentage = frames.length > 0 ? Math.round((validFrames.length / frames.length) * 100) : null;
              const hasInvalidFrames = validFrames.length < frames.length;
            %>
            <a href="#section-frames" class="nav-item<%= hasInvalidFrames ? ' invalid' : '' %>">
              <span class="nav-item-text">6.4.2 ì œëª© ì œê³µ - í”„ë ˆì„</span>
              <span class="nav-item-score"><%= validFrames.length %> / <%= frames.length %><%= framePercentage !== null ? ` (${framePercentage}%)` : '' %></span>
            </a>
          <% } else { %>
            <a href="#section-frames" class="nav-item">
              <span class="nav-item-text">6.4.2 ì œëª© ì œê³µ - í”„ë ˆì„</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>
          
          <% if (headings && headings.length > 0) { %>
            <a href="#section-headings" class="nav-item<%= headings.length === 0 ? ' invalid' : '' %>">
              <span class="nav-item-text">6.4.2 ì œëª© ì œê³µ - ì½˜í…ì¸  ë¸”ë¡</span>
              <span class="nav-item-score"><%= headings.length %> (<% if (headings.length > 0) { %>O<% } else { %>X<% } %>)</span>
            </a>
          <% } else { %>
            <a href="#section-headings" class="nav-item">
              <span class="nav-item-text">6.4.2 ì œëª© ì œê³µ - ì½˜í…ì¸  ë¸”ë¡</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>

          <!--
          6.4.3 ì ì ˆí•œ ë§í¬ í…ìŠ¤íŠ¸
          -->

          <!--
          6.4.4 ê³ ì •ëœ ì°¸ì¡° ìœ„ì¹˜ ì •ë³´
          -->

          <!--
          6.5.1 ë‹¨ì¼ í¬ì¸í„° ì…ë ¥ ì§€ì›
          -->

          <!--
          6.5.2 í¬ì¸í„° ì…ë ¥ ì·¨ì†Œ
          -->

          <!--
          6.5.3 ë ˆì´ë¸”ê³¼ ë„¤ì„
          -->

          <!--
          6.5.4 ë™ì‘ê¸°ë°˜ ì‘ë™
          -->

          <% if (pageLang && pageLang.length > 0) { %>
            <% 
              const validPageLang = pageLang.filter(lang => lang.valid === 'pass');
              const hasInvalidPageLang = validPageLang.length < pageLang.length;
            %>
            <a href="#section-page-lang" class="nav-item<%= hasInvalidPageLang ? ' invalid' : '' %>">
              <span class="nav-item-text">7.1.1 ê¸°ë³¸ ì–¸ì–´ í‘œì‹œ</span>
              <span class="nav-item-score"><%= validPageLang.length %> / <%= pageLang.length %> (<%= Math.round((validPageLang.length / pageLang.length) * 100) %>%)</span>
            </a>
          <% } else { %>
            <a href="#section-page-lang" class="nav-item">
              <span class="nav-item-text">7.1.1 ê¸°ë³¸ ì–¸ì–´ í‘œì‹œ</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>

          <% if (userRequest && userRequest.length > 0) { %>
            <% 
              const validUserRequest = userRequest.filter(request => request.valid === 'pass');
              const hasInvalidUserRequest = validUserRequest.length < userRequest.length;
            %>
            <a href="#section-user-request" class="nav-item<%= hasInvalidUserRequest ? ' invalid' : '' %>">
              <span class="nav-item-text">7.2.1 ì‚¬ìš©ì ìš”êµ¬ì— ë”°ë¥¸ ì‹¤í–‰</span>
              <span class="nav-item-score"><%= validUserRequest.length %> / <%= userRequest.length %> (<%= Math.round((validUserRequest.length / userRequest.length) * 100) %>%)</span>
            </a>
          <% } else { %>
            <a href="#section-user-request" class="nav-item">
              <span class="nav-item-text">7.2.1 ì‚¬ìš©ì ìš”êµ¬ì— ë”°ë¥¸ ì‹¤í–‰</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>

          <!--
          7.2.2 ì°¾ê¸° ì‰¬ìš´ ë„ì›€ ì •ë³´
          -->

          <!--
          7.3.1 ì˜¤ë¥˜ ì •ì •
          -->

          <% if (inputLabels && inputLabels.length > 0) { %>
            <% 
              const validLabels = inputLabels.filter(label => label.valid === 'pass');
              const labelPercentage = inputLabels.length > 0 ? Math.round((validLabels.length / inputLabels.length) * 100) : null;
              const hasInvalidLabels = validLabels.length < inputLabels.length;
            %>
            <a href="#section-input-labels" class="nav-item<%= hasInvalidLabels ? ' invalid' : '' %>">
              <span class="nav-item-text">7.3.2 ë ˆì´ë¸” ì œê³µ</span>
              <span class="nav-item-score"><%= validLabels.length %> / <%= inputLabels.length %><%= labelPercentage !== null ? ` (${labelPercentage}%)` : '' %></span>
            </a>
          <% } else { %>
            <a href="#section-input-labels" class="nav-item">
              <span class="nav-item-text">7.3.2 ë ˆì´ë¸” ì œê³µ</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>

          <!--
          7.3.3 ì ‘ê·¼ ê°€ëŠ¥í•œ ì¸ì¦
          -->

          <!--
          7.3.4 ë°˜ë³µ ì…ë ¥ ì •ë³´
          -->

          <!--
          8.1.1 ë§ˆí¬ì—… ì˜¤ë¥˜ ë°©ì§€
          -->

          <% if (webApplication && webApplication.length > 0) { %>
            <% 
              const validWebApps = webApplication.filter(app => app.valid === 'pass');
              const hasInvalidWebApps = validWebApps.length < webApplication.length;
            %>
            <a href="#section-web-application" class="nav-item<%= hasInvalidWebApps ? ' invalid' : '' %>">
              <span class="nav-item-text">8.2.1 ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼ì„± ì¤€ìˆ˜</span>
              <span class="nav-item-score"><%= validWebApps.length %> / <%= webApplication.length %> (<%= Math.round((validWebApps.length / webApplication.length) * 100) %>%)</span>
            </a>
          <% } else { %>
            <a href="#section-web-application" class="nav-item">
              <span class="nav-item-text">8.2.1 ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼ì„± ì¤€ìˆ˜</span>
              <span class="nav-item-score">ì—†ìŒ</span>
            </a>
          <% } %>
        </nav>
      </div>
      <div class="main-content">
        <div id="section-images" class="section">
          <h2>5.1.1 ì ì ˆí•œ ëŒ€ì²´ í…ìŠ¤íŠ¸ ì œê³µ (img)</h2>
          <% if (images && images.length > 0) { %>
            <div style="margin: 0 0 10px 0; font-weight: bold;">ì´ ì´ë¯¸ì§€ ìˆ˜: <%= images.length %></div>
            <table class="result-table">
              <tr>
                <th>result</th>
                <th>hidden</th>
                <th>ì´ë¯¸ì§€</th>
                <th>ëŒ€ì²´ í…ìŠ¤íŠ¸</th>
              </tr>
              <% images.forEach(img => { %>
                <% let cellClass = ""; let altText = img.alt; %>
                <% if (img.alt === null) { cellClass = 'fail'; altText = 'alt ì—†ìŒ'; } %>
                <% if (img.alt === '') { cellClass = 'warning'; altText = 'alt=""'; } %>
                <tr class="<%= img.valid === 'fail' ? 'fail' : '' %> <%= cellClass %>" style="opacity:<%= img.hidden ? '0.5' : '1' %>;">
                  <td><%= img.valid %></td>
                  <td><%= img.hidden ? 'hidden' : '' %></td>
                  <td><img src="<%= img.src %>" /></td>
                  <td><%= altText %>
                    <% if (img.longdesc) { %>
                      <br>longdesc: <a href="<%= img.longdesc %>" target="_blank"><%= img.longdesc %></a>
                    <% } %>
                  </td>
                </tr>
              <% }) %>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ ì´ë¯¸ì§€ê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-bg-images" class="section">
          <h2>5.1.1 ì ì ˆí•œ ëŒ€ì²´ í…ìŠ¤íŠ¸ ì œê³µ (bg)</h2>
          <% if (bgImages && bgImages.length > 0) { %>
            <div style="margin: 0 0 10px 0; font-weight: bold;">ì´ background-image ìš”ì†Œ ìˆ˜: <%= bgImages.length %></div>
            <table class="result-table">
              <tr>
                <th>result</th>
                <th>hidden</th>
                <th>ì´ë¯¸ì§€</th>
                <th>ëŒ€ì²´ í…ìŠ¤íŠ¸</th>
              </tr>
              <% bgImages.forEach(bg => { %>
                <tr style="opacity:<%= bg.hidden ? '0.5' : '1' %>;">
                  <td>-</td>
                  <td><%= bg.hidden ? 'hidden' : '' %></td>
                  <td><div style="width:80px; height:80px; background:url('<%= bg.src %>') center/cover no-repeat; border-radius:6px;"></div></td>
                  <td><%= bg.alt %></td>
                </tr>
              <% }) %>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ background-image ìš”ì†Œê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-tables" class="section">
          <h2>5.3.1 í‘œì˜ êµ¬ì„±</h2>
          <% if (tables && tables.length > 0) { %>
            <table class="result-table">
              <thead>
                <tr>
                  <th>result</th>
                  <th>hidden</th>
                  <th>í‘œ êµ¬ì¡°</th>
                </tr>
              </thead>
              <tbody>
                <% tables.forEach((table, idx) => { %>
                  <tr class="<%= table.valid === 'fail' ? 'fail' : '' %> <%= table.valid === 'warning' ? 'warning' : '' %>">
                    <td><%= table.valid %></td>
                    <td><%= table.hidden ? 'hidden' : '' %></td>
                    <td>
                      <div>caption: <%= table.caption %></div>
                      <div>summary: <%= table.summary %></div>
                      <table class="result-table">
                        <tr>
                          <th>ìš”ì†Œëª…</th>
                          <th>ìœ ë¬´</th>
                          <th>ì œëª©ì…€(scope)</th>
                        </tr>
                        <tbody>
                          <tr>
                            <td>thead</td>
                            <td><%= table.thead ? 'O' : 'X' %></td>
                            <td>
                              <% table.theadCells.forEach(row => { %>
                                <% row.forEach(cell => { %>
                                  <% if(cell.tag === 'th') { %>
                                    <div><%= cell.text %> (<%= cell.scope || 'X' %>)</div>
                                  <% } %>
                                <% }) %>
                              <% }) %>
                            </td>
                          </tr>
                          <tr>
                            <td>tfoot</td>
                            <td><%= table.tfoot ? 'O' : 'X' %></td>
                            <td>
                              <% table.tfootCells.forEach(row => { %>
                                <% row.forEach(cell => { %>
                                  <% if(cell.tag === 'th') { %>
                                    <div><%= cell.text %> (<%= cell.scope || 'X'%>)</div>
                                  <% } %>
                                <% }) %>
                              <% }) %>
                            </td>
                          </tr>
                          <tr>
                            <td>tbody</td>
                            <td><%= table.tbody ? 'O' : 'X' %></td>
                            <td>
                              <% table.tbodyCells.forEach(row => { %>
                                <% row.forEach(cell => { %>
                                  <% if(cell.tag === 'th') { %>
                                    <div><%= cell.text %> (<%= cell.scope || 'X' %>)</div>
                                  <% } %>
                                <% }) %>
                              <% }) %>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ í‘œê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-focus" class="section">
          <h2>6.1.2 ì´ˆì  ì´ë™ê³¼ í‘œì‹œ</h2>
          <% if (focus && focus.length > 0) { %>
            <div style="margin: 0 0 10px 0; font-weight: bold;">ì´ ì´ˆì  í‘œì‹œ ë¬¸ì œ ìˆ˜: <%= focus.length %></div>
            <table class="result-table">
              <thead>
                <tr>
                  <th>result</th>
                  <th>hidden</th>
                  <th>ìš”ì†Œëª…</th>
                  <th>ì—ëŸ¬ íƒ€ì…</th>
                  <th>ë‚´ìš©</th>
                </tr>
              </thead>
              <tbody>
                <% focus.forEach(item => { %>
                  <tr class="<%= item.valid === 'fail' ? 'fail' : '' %>">
                    <td><%= item.valid %></td>
                    <td><%= item.hidden ? 'hidden' : '' %></td>
                    <td><%= item.tag %></td>
                    <td><%= item.issueType || 'unknown' %></td>
                    <td><%= item.text %></td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ ì´ˆì  í‘œì‹œ ë¬¸ì œê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-skip-nav" class="section">
          <h2>6.4.1 ë°˜ë³µ ì˜ì—­ ê±´ë„ˆë›°ê¸°</h2>
          <% if (skipNavigations && skipNavigations.length > 0) { %>
            <div style="margin: 0 0 10px 0; font-weight: bold;">ì´ ê±´ë„ˆë›°ê¸° ë§í¬ ìˆ˜: <%= skipNavigations.length %></div>
            <table class="result-table">
              <tr>
                <th>result</th>
                <th>hidden</th>
                <th>ë§í¬ ìˆœì„œ</th>
                <th>ë§í¬ ë‚´ìš©</th>
                <th>ì—°ê²° ì—¬ë¶€</th>
              </tr>
              <% skipNavigations.forEach(skipNav => { %>
                <tr class="<%= skipNav.valid === 'fail' ? 'fail' : '' %> <%= skipNav.valid === 'warning' ? 'warning' : '' %>">
                  <td><%= skipNav.valid %></td>
                  <td><%= skipNav.hidden ? 'hidden' : '' %></td>
                  <td><%= skipNav.label %></td>
                  <td><%= skipNav.value %></td>
                  <td><%= skipNav.connected ? 'O' : 'X' %></td>
                </tr>
              <% }) %>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ ê±´ë„ˆë›°ê¸° ë§í¬ê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-page-title" class="section">
          <h2>6.4.2 ì œëª© ì œê³µ - í˜ì´ì§€</h2>
          <% if (pageTitle && typeof pageTitle.valid !== 'undefined') { %>
            <table class="result-table">
              <thead>
                <tr>
                  <th>result</th>
                  <th>hidden</th>
                  <th>í˜ì´ì§€ ì œëª©</th>
                </tr>
              </thead>
              <tbody>
                <tr class="<%= pageTitle.valid === 'fail' ? 'fail' : '' %> <%= pageTitle.valid === 'warning' ? 'warning' : '' %>">
                  <td><%= pageTitle.valid %></td>
                  <td><%= pageTitle.hidden ? 'hidden' : '' %></td>
                  <td><%= pageTitle.title || 'ì œëª© ì—†ìŒ' %></td>
                </tr>
              </tbody>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">í˜ì´ì§€ ì œëª© ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-frames" class="section">
          <h2>6.4.2 ì œëª© ì œê³µ - í”„ë ˆì„</h2>
          <% if (frames && frames.length > 0) { %>
            <div style="margin: 0 0 10px 0; font-weight: bold;">ì´ iframe ìˆ˜: <%= frames.length %></div>
            <table class="result-table">
              <tr>
                <th>result</th>
                <th>hidden</th>
                <th>í”„ë ˆì„ ì œëª©</th>
                <th>í”„ë ˆì„ URL</th>
              </tr>
              <% frames.forEach(frame => { %>
                <tr class="<%= frame.valid === 'fail' ? 'fail' : '' %> <%= frame.valid === 'warning' ? 'warning' : '' %>" style="opacity:<%= frame.hidden ? '0.5' : '1' %>;">
                  <td><%= frame.valid %></td>
                  <td><%= frame.hidden ? 'hidden' : '' %></td>
                  <td><%= frame.value || 'ì œëª© ì—†ìŒ' %></td>
                  <td style="word-break: break-all;"><%= frame.contents %></td>
                </tr>
              <% }) %>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ iframeì´ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-headings" class="section">
          <h2>6.4.2 ì œëª© ì œê³µ - ì½˜í…ì¸  ë¸”ë¡</h2>
          <% if (headings && headings.length > 0) { %>
            <div style="margin: 0 0 10px 0; font-weight: bold;">ì´ í—¤ë”© ìˆ˜: <%= headings.length %></div>
            <table class="result-table">
              <tr>
                <th>result</th>
                <th>hidden</th>
                <th>ìš”ì†Œëª…</th>
                <th>ë‚´ìš©</th>
              </tr>
              <% headings.forEach(heading => { %>
                <tr class="<%= heading.valid === 'fail' ? 'fail' : '' %> <%= heading.valid === 'warning' ? 'warning' : '' %>" style="opacity:<%= heading.hidden ? '0.5' : '1' %>;">
                  <td><%= heading.valid %></td>
                  <td><%= heading.hidden ? 'hidden' : '' %></td>
                  <td><%= heading.value %></td>
                  <td><%= heading.contents %></td>
                </tr>
              <% }) %>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ í—¤ë”©ì´ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-page-lang" class="section">
          <h2>7.1.1 ê¸°ë³¸ ì–¸ì–´ í‘œì‹œ</h2>
          <% if (pageLang && pageLang.length > 0) { %>
            <div style="margin: 0 0 10px 0; font-weight: bold;">ì´ í˜ì´ì§€ ìˆ˜: <%= pageLang.length %></div>
            <table class="result-table">
              <thead>
                <tr>
                  <th>result</th>
                  <th>hidden</th>
                  <th>í˜ì´ì§€ URL</th>
                  <th>ì–¸ì–´ ì½”ë“œ</th>
                </tr>
              </thead>
              <tbody>
                <% pageLang.forEach(lang => { %>
                  <tr class="<%= lang.valid === 'fail' ? 'fail' : '' %> <%= lang.valid === 'warning' ? 'warning' : '' %>">
                    <td><%= lang.valid %></td>
                    <td><%= lang.hidden ? 'hidden' : '' %></td>
                    <td><a href="<%= lang.url %>" target="_blank"><%= lang.url %></a></td>
                    <td><%= lang.lang || 'ì–¸ì–´ ì„¤ì • ì—†ìŒ' %></td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">í˜ì´ì§€ ì–¸ì–´ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <div id="section-user-request" class="section">
          <h2>7.2.1 ì‚¬ìš©ì ìš”êµ¬ì— ë”°ë¥¸ ì‹¤í–‰ - ìƒˆ ì°½ ë§í¬</h2>
          <% if (userRequest && userRequest.length > 0) { %>
            <div style="margin: 0 0 10px 0; font-weight: bold;">ì´ ìƒˆ ì°½ ë§í¬ ìˆ˜: <%= userRequest.length %></div>
            <table class="result-table">
              <thead>
                <tr>
                  <th>result</th>
                  <th>hidden</th>
                  <th>ìš”ì†Œëª…</th>
                  <th>title ì†ì„±</th>
                  <th>target ì†ì„±</th>
                  <th>í…ìŠ¤íŠ¸</th>
                </tr>
              </thead>
              <tbody>
                <% userRequest.forEach(request => { %>
                  <tr class="<%= request.valid === 'fail' ? 'fail' : '' %> <%= request.valid === 'warning' ? 'warning' : '' %>">
                    <td><%= request.valid %></td>
                    <td><%= request.hidden ? 'hidden' : '' %></td>
                    <td><%= request.tag %></td>
                    <td><%= request.title %></td>
                    <td><%= request.target %></td>
                    <td><%= request.text %></td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ ìƒˆ ì°½ ë§í¬ê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </div>

        <section id="section-input-labels" class="section">
          <h2>7.3.2 ë ˆì´ë¸” ì œê³µ</h2>
          <% if (inputLabels && inputLabels.length > 0) { %>
            <div class="stats">
              <div class="stat-item">
                <span class="stat-label">ì´ ì…ë ¥ í•„ë“œ ìˆ˜</span>
                <span class="stat-value"><%= inputLabels.length %></span>
              </div>
            </div>
            <table class="result-table">
              <thead>
                <tr>
                  <th>result</th>
                  <th>hidden</th>
                  <th>ìš”ì†Œëª…</th>
                  <th>íƒ€ì…</th>
                  <th>ë ˆì´ë¸”</th>
                  <th>title ì†ì„±</th>
                </tr>
              </thead>
              <tbody>
                <% inputLabels.forEach(label => { %>
                  <tr class="<%= label.valid === 'fail' ? 'fail' : '' %> <%= label.valid === 'warning' ? 'warning' : '' %>" style="opacity:<%= label.hidden ? '0.5' : '1' %>;">
                    <td><%= label.valid %></td>
                    <td><% if (label.hidden) { %>hidden<% } %></td>
                    <td><%= label.tagName %></td>
                    <td><%= label.type %></td>
                    <td>
                      <% if (label.hasLabel) { %><%= label.label %><% } else { %>X<% } %>
                    </td>
                    <td><%= label.title %></span></td>
                  </tr>
                <% }); %>
              </tbody>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ ì…ë ¥ í•„ë“œê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </section>

        <section id="section-web-application" class="section">
          <h2>8.2.1 ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼ì„± ì¤€ìˆ˜</h2>
          <% if (webApplication && webApplication.length > 0) { %>
            <div class="stats">
              <div class="stat-item">
                <span class="stat-label">ì´ WAI-ARIA ì¸í„°í˜ì´ìŠ¤ ìˆ˜</span>
                <span class="stat-value"><%= webApplication.length %></span>
              </div>
            </div>
            <table class="result-table">
              <thead>
                <tr>
                  <th>result</th>
                  <th>hidden</th>
                  <th>ì¸í„°í˜ì´ìŠ¤</th>
                  <th>ìƒíƒœ</th>
                  <th>ë¬¸ì œì </th>
                  <th>ì„¸ë¶€ ì •ë³´</th>
                </tr>
              </thead>
              <tbody>
                <% webApplication.forEach(app => { %>
                  <tr class="<%= app.valid === 'fail' ? 'fail' : '' %> <%= app.valid === 'warning' ? 'warning' : '' %>" style="opacity:<%= app.hidden ? '0.5' : '1' %>;">
                    <td><%= app.valid %></td>
                    <td><%= app.hidden ? 'hidden' : '' %></td>
                    <td><%= app.interface %></td>
                    <td><%= app.valid %></td>
                    <td>
                      <% if (app.issues && app.issues.length > 0) { %>
                        <ul style="margin: 0; padding-left: 20px;">
                          <% app.issues.forEach(issue => { %>
                            <li><%= issue %></li>
                          <% }) %>
                        </ul>
                      <% } else { %>
                        ë¬¸ì œ ì—†ìŒ
                      <% } %>
                    </td>
                    <td>
                      <% if (app.interface === 'tablist') { %>
                        íƒ­: <%= app.tabs %>, íŒ¨ë„: <%= app.tabpanels %>
                      <% } else if (app.interface === 'menu' || app.interface === 'menubar') { %>
                        ë©”ë‰´ ì•„ì´í…œ: <%= app.menuitems %>, ì²´í¬ë°•ìŠ¤: <%= app.menuitemcheckboxes %>, ë¼ë””ì˜¤: <%= app.menuitemradios %>
                      <% } else if (app.interface === 'combobox') { %>
                        ë¦¬ìŠ¤íŠ¸ë°•ìŠ¤: <%= app.hasListbox ? 'ìˆìŒ' : 'ì—†ìŒ' %>, ì˜µì…˜: <%= app.options %>
                      <% } else if (app.interface === 'grid' || app.interface === 'table') { %>
                        í–‰: <%= app.rows %>, ì…€: <%= app.cells %>, í–‰í—¤ë”: <%= app.rowheaders %>, ì—´í—¤ë”: <%= app.columnheaders %>
                      <% } else if (app.interface === 'tree') { %>
                        íŠ¸ë¦¬ ì•„ì´í…œ: <%= app.treeitems %>, ê·¸ë£¹: <%= app.groups %>
                      <% } else if (app.interface === 'dialog' || app.interface === 'alertdialog') { %>
                        ì œëª©: <%= app.hasTitle ? 'ìˆìŒ' : 'ì—†ìŒ' %>
                      <% } else if (app.interface === 'toolbar') { %>
                        ë²„íŠ¼: <%= app.buttons %>, ë§í¬: <%= app.links %>, ì…ë ¥: <%= app.inputs %>
                      <% } %>
                    </td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          <% } else { %>
            <div style="padding: 20px; text-align: center; color: #666; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
              <p style="margin: 0; font-size: 16px;">ê²€ì‚¬ëœ í˜ì´ì§€ì—ì„œ WAI-ARIA ì¸í„°í˜ì´ìŠ¤ê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
              <p style="margin: 10px 0 0 0; font-size: 14px;">íƒ­, ë©”ë‰´, ì½¤ë³´ë°•ìŠ¤, ê·¸ë¦¬ë“œ, íŠ¸ë¦¬, ë‹¤ì´ì–¼ë¡œê·¸, íˆ´ë°” ë“±ì˜ WAI-ARIA ì—­í• ì´ ìˆëŠ” ìš”ì†Œê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
          <% } %>
        </section>
      </div>
    </div>
  <% } else { %>
    <!-- URL ì…ë ¥ ì•ˆë‚´ ì„¹ì…˜ -->
    <div class="welcome-section" style="text-align: center; padding: 60px 20px; max-width: 800px; margin: 0 auto;">
      <div class="welcome-icon" style="font-size: 80px; margin-bottom: 30px; color: #007bff;">
        ğŸ”
      </div>
      
      <h1 style="font-size: 32px; color: #333; margin-bottom: 20px; font-weight: 300;">
        ì›¹ ì ‘ê·¼ì„± ê²€ì‚¬ê¸°
      </h1>
      
      <p style="font-size: 18px; color: #666; margin-bottom: 40px; line-height: 1.6;">
        ì›¹ì‚¬ì´íŠ¸ì˜ ì ‘ê·¼ì„±ì„ ê²€ì‚¬í•˜ê³  ê°œì„ ì ì„ í™•ì¸í•˜ì„¸ìš”.<br>
        KWAG 2.2 ê¸°ì¤€ì— ë”°ë¼ ì¢…í•©ì ì¸ ì ‘ê·¼ì„± ë¶„ì„ ë¦¬í¬íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
      </p>
      
      <div class="features-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-bottom: 50px;">
        <div class="feature-card" style="background: #f8f9fa; padding: 25px; border-radius: 8px; border-left: 4px solid #007bff;">
          <div style="font-size: 24px; margin-bottom: 15px;">ğŸ¯</div>
          <h3 style="margin: 0 0 10px 0; color: #333; font-size: 18px;">ì¢…í•© ë¶„ì„</h3>
          <p style="margin: 0; color: #666; font-size: 14px; line-height: 1.5;">
            ì´ë¯¸ì§€, ì œëª©, í¼, í…Œì´ë¸” ë“± 12ê°œ ì˜ì—­ì˜ ì ‘ê·¼ì„±ì„ ì¢…í•©ì ìœ¼ë¡œ ê²€ì‚¬
          </p>
        </div>
        
        <div class="feature-card" style="background: #f8f9fa; padding: 25px; border-radius: 8px; border-left: 4px solid #28a745;">
          <div style="font-size: 24px; margin-bottom: 15px;">ğŸ“Š</div>
          <h3 style="margin: 0 0 10px 0; color: #333; font-size: 18px;">ìƒì„¸ ë¦¬í¬íŠ¸</h3>
          <p style="margin: 0; color: #666; font-size: 14px; line-height: 1.5;">
            ë¬¸ì œì ê³¼ ê°œì„  ë°©ì•ˆì„ í¬í•¨í•œ ìƒì„¸í•œ ë¶„ì„ ê²°ê³¼ ì œê³µ
          </p>
        </div>
        
        <div class="feature-card" style="background: #f8f9fa; padding: 25px; border-radius: 8px; border-left: 4px solid #ffc107;">
          <div style="font-size: 24px; margin-bottom: 15px;">âš¡</div>
          <h3 style="margin: 0 0 10px 0; color: #333; font-size: 18px;">ì‹¤ì‹œê°„ ê²€ì‚¬</h3>
          <p style="margin: 0; color: #666; font-size: 14px; line-height: 1.5;">
            ë™ì  ì½˜í…ì¸ ë¥¼ í¬í•¨í•œ ì‹¤ì‹œê°„ ì›¹í˜ì´ì§€ ì ‘ê·¼ì„± ê²€ì‚¬
          </p>
        </div>
      </div>
      
      <div class="how-to-use" style="background: #e3f2fd; padding: 30px; border-radius: 8px; margin-bottom: 40px;">
        <h2 style="margin: 0 0 20px 0; color: #1976d2; font-size: 24px; text-align: center;">
          ì‚¬ìš© ë°©ë²•
        </h2>
        <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap;">
          <div class="step" style="text-align: center; flex: 1; min-width: 150px;">
            <div style="background: #007bff; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-weight: bold;">1</div>
            <p style="margin: 0; color: #333; font-weight: 500;">URL ì…ë ¥</p>
            <p style="margin: 5px 0 0 0; color: #666; font-size: 14px;">ê²€ì‚¬í•  ì›¹ì‚¬ì´íŠ¸ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>
          </div>
          <div style="font-size: 24px; color: #007bff;">â†’</div>
          <div class="step" style="text-align: center; flex: 1; min-width: 150px;">
            <div style="background: #007bff; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-weight: bold;">2</div>
            <p style="margin: 0; color: #333; font-weight: 500;">ë¶„ì„ ì‹¤í–‰</p>
            <p style="margin: 5px 0 0 0; color: #666; font-size: 14px;">ìë™ìœ¼ë¡œ ì ‘ê·¼ì„± ê²€ì‚¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤</p>
          </div>
          <div style="font-size: 24px; color: #007bff;">â†’</div>
          <div class="step" style="text-align: center; flex: 1; min-width: 150px;">
            <div style="background: #007bff; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-weight: bold;">3</div>
            <p style="margin: 0; color: #333; font-weight: 500;">ê²°ê³¼ í™•ì¸</p>
            <p style="margin: 5px 0 0 0; color: #666; font-size: 14px;">ìƒì„¸í•œ ì ‘ê·¼ì„± ë¶„ì„ ë¦¬í¬íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
          </div>
        </div>
      </div>
      
      <div class="example-urls" style="margin-bottom: 30px;">
        <h3 style="margin: 0 0 15px 0; color: #333; font-size: 18px;">ì˜ˆì‹œ URL</h3>
        <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
          <button onclick="setExampleUrl('https://www.daum.net')" style="background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background 0.3s;">ë‹¤ìŒ</button>
          <button onclick="setExampleUrl('https://www.naver.com')" style="background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background 0.3s;">ë„¤ì´ë²„</button>
          <button onclick="setExampleUrl('https://www.google.com')" style="background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background 0.3s;">êµ¬ê¸€</button>
          <button onclick="setExampleUrl('https://www.github.com')" style="background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background 0.3s;">GitHub</button>
        </div>
      </div>
      
      <div class="start-message" style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 8px; color: #856404;">
        <p style="margin: 0; font-size: 16px; text-align: center;">
          <strong>ì§€ê¸ˆ ì‹œì‘í•˜ì„¸ìš”!</strong> ìœ„ì˜ ê²€ìƒ‰ì°½ì— ì›¹ì‚¬ì´íŠ¸ URLì„ ì…ë ¥í•˜ê³  ì ‘ê·¼ì„± ê²€ì‚¬ë¥¼ ì‹¤í–‰í•´ë³´ì„¸ìš”.
        </p>
      </div>
    </div>
  <% } %>

  <script>
    // ì˜ˆì‹œ URL ì„¤ì • í•¨ìˆ˜
    function setExampleUrl(url) {
      const urlInput = document.querySelector('input[name="url"]');
      if (urlInput) {
        urlInput.value = url;
        // ìë™ìœ¼ë¡œ ë¶„ì„ ì‹¤í–‰
        const form = urlInput.closest('form');
        if (form) {
          form.submit();
        }
      }
    }
    
    // ë³´ê³ ì„œ ì¶œë ¥ í•¨ìˆ˜
    function generateReport() {
      const urlInput = document.querySelector('input[name="url"]');
      if (urlInput && urlInput.value) {
        window.open(`/report?url=${encodeURIComponent(urlInput.value)}`, '_blank');
      }
    }
    
    // í˜„ì¬ í™œì„±í™”ëœ ì„¹ì…˜ì— ë”°ë¼ ë„¤ë¹„ê²Œì´ì…˜ í•­ëª© í•˜ì´ë¼ì´íŠ¸
    const sections = Array.from(document.querySelectorAll('.section'));
    const navItems = document.querySelectorAll('.nav-item');
    
    function getCurrentSection() {
      const scrollPosition = window.scrollY + 100; // ê²€ìƒ‰ì°½ ë†’ì´ ê³ ë ¤
      
      for (let i = sections.length - 1; i >= 0; i--) {
        const section = sections[i];
        const sectionTop = section.offsetTop;
        const sectionBottom = sectionTop + section.offsetHeight;
        
        if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
          return section.id;
        }
      }
      
      return sections[0].id; // ê¸°ë³¸ê°’
    }
    
    function updateActiveNav() {
      const currentSectionId = getCurrentSection();
      navItems.forEach(item => {
        item.classList.remove('active');
        if (item.getAttribute('href') === '#' + currentSectionId) {
          item.classList.add('active');
        }
      });
    }

    // ìŠ¤í¬ë¡¤ ì‹œ í˜„ì¬ ì„¹ì…˜ìœ¼ë¡œ ë„¤ë¹„ê²Œì´ì…˜ í•­ëª© ìŠ¤í¬ë¡¤
    const sidebar = document.querySelector('.sidebar');
    
    function scrollToActiveNav() {
      const activeNav = document.querySelector('.nav-item.active');
      if (activeNav && sidebar) {
        const sidebarRect = sidebar.getBoundingClientRect();
        const activeNavRect = activeNav.getBoundingClientRect();
        
        if (activeNavRect.top < sidebarRect.top || activeNavRect.bottom > sidebarRect.bottom) {
          sidebar.scrollTo({
            top: activeNav.offsetTop - sidebar.offsetTop - 20,
            behavior: 'smooth'
          });
        }
      }
    }

    // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ì— ë””ë°”ìš´ìŠ¤ ì ìš©
    let scrollTimeout;
    window.addEventListener('scroll', () => {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        updateActiveNav();
        scrollToActiveNav();
      }, 100);
    });

    // ì´ˆê¸° í™œì„±í™”
    updateActiveNav();

    // fragment ë§í¬ í´ë¦­ ì‹œ ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = item.getAttribute('href')?.substring(1);
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
  </script>
</body>
</html> 